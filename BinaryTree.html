<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
    
    <script>
        function BinaryTree() {
            var root = null

            // 二叉树节点对象
            var Node = function(key) {
                this.key = key
                this.left = null
                this.right = null
            }
            var insertNode = function(node, newNode) {
                if(newNode.key < node.key){
                    node.left == null ? (node.left = newNode) : insertNode(node.left, newNode)
                    // if(node.left == null){
                    //     node.left = newNode
                    // }else{
                    //     insertNode(node.left, newNode)
                    // }
                }else{
                    node.right == null ? (node.right = newNode) : insertNode(node.right, newNode)
                    // if(node.right == null){
                    //     node.right = newNode
                    // }else{
                    //     insertNode(node.right, newNode)
                    // }
                }
            }
            
            // 形成排序二叉树
            this.insert = function(key) {
                var node = new Node(key)
                if(root === null){
                    root = node
                }else{
                    insertNode(root, node)
                }
            }
            var inorderNode = function(node, callback) {
                if(node != null){
                    inorderNode(node.left, callback)
                    callback(node.key)
                    inorderNode(node.right, callback)
                }
            }

            // 提供接口，排序访问
            this.inorder = function(callback) {
                inorderNode(root, callback)
            }
        }
        var arr = [8, 5, 12, 15, 85, 46, 19, 2, 7]
        var binaryTree = new BinaryTree()
        arr.forEach(function(item){
            binaryTree.insert(item)
        })
        var newArr = []
        var callback = function(value) {
            newArr.unshift(value)
        }
        binaryTree.inorder(callback)
        console.log(newArr)
        
        
    </script>
    
</body>
</html>